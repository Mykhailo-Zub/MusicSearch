(this["webpackJsonpmusic-search"]=this["webpackJsonpmusic-search"]||[]).push([[0],{16:function(t,e,a){t.exports={wrapper:"Main_wrapper__2wDN_",header:"Main_header__3c4F5",trackContainer:"Main_trackContainer__mfEQP",track:"Main_track__1w8PN",link:"Main_link__1qA3F"}},18:function(t,e,a){t.exports={wrapper:"ShowTrack_wrapper__10zlH"}},4:function(t,e,a){t.exports={wrapper:"About_wrapper__CP25R",backBtn:"About_backBtn__2n2Q3",header:"About_header__3750F",topPanel:"About_topPanel__yOgb-",about:"About_about__3ln8P",tags:"About_tags__293Tj",tag:"About_tag__3Rvzh",tagLink:"About_tagLink__103cU",link:"About_link__HEkvT"}},47:function(t,e,a){},48:function(t,e,a){},5:function(t,e,a){t.exports={disable:"Search_disable__ABV2_",wrapper:"Search_wrapper___fFjX",header:"Search_header__1obor",trackContainer:"Search_trackContainer__cmVrv",track:"Search_track__3amsC",link:"Search_link__2z_SR",input:"Search_input__1OQ8Q",button:"Search_button__2ldz3",navBtnPrev:"Search_navBtnPrev__1wq8M",navBtnNext:"Search_navBtnNext__2bYBN",navButtons:"Search_navButtons__1KwaG"}},71:function(t,e,a){"use strict";a.r(e);var n=a(1),c=a(0),r=a(19),s=a.n(r),o=(a(47),a(48),a(13)),i=a(3),l=a(21),u=a(22),d=a(24),b=a(23),h=a(11),p=a(15),j=a.n(p),v="GET_TOP",m="GET_SEARCH",f="GET_ARTIST",g=function(t){return function(e){return j.a.get(t).then((function(t){var a=t.data;return e({type:v,payload:a})}))}},_=function(t){return function(e){return j.a.get(t).then((function(t){var a=t.data;return e({type:f,payload:a})}))}},O=a(18),x=a.n(O),k=function(t){var e=t.position,a=t.artist,c=t.name;return Object(n.jsxs)(o.b,{to:"/about",className:x.a.wrapper,children:[Object(n.jsxs)("div",{className:x.a.position,children:[e+1,".\xa0"]}),Object(n.jsxs)("div",{className:x.a.artist,children:[a," -\xa0"]}),Object(n.jsx)("div",{className:x.a.title,children:c})]})},N=a(16),y=a.n(N),w=function(t){Object(d.a)(a,t);var e=Object(b.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).showAbout=function(e){var a="https://ws.audioscrobbler.com/2.0/?method=".concat("artist.getInfo","&artist=").concat(e,"&api_key=").concat("20f6e218a31dde21404bc8beb287d24f","&format=json");t.props.getArtistInfo(a)},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t="https://ws.audioscrobbler.com/2.0/?method=".concat("chart.gettoptracks","&api_key=").concat("20f6e218a31dde21404bc8beb287d24f","&format=json");this.props.getTopSongs(t)}},{key:"render",value:function(){var t,e,a=this,c=null===(t=this.props.songs)||void 0===t||null===(e=t.tracks)||void 0===e?void 0:e.track;return Object(n.jsxs)("div",{className:y.a.wrapper,children:[Object(n.jsx)("h1",{className:y.a.header,children:"Top 50 Last.FM"}),Object(n.jsx)("div",{className:y.a.trackContainer,children:null===c||void 0===c?void 0:c.map((function(t,e){return Object(n.jsxs)("div",{className:y.a.track,children:[Object(n.jsx)("button",{type:"button",onClick:a.showAbout.bind(a,t.artist.name),children:Object(n.jsx)(k,{position:e,artist:t.artist.name,name:t.name},e)},e),Object(n.jsx)("a",{className:y.a.link,href:t.url,target:"_blank",rel:"noreferrer",children:"Track page on Last.FM"},e)]})}))})]})}}]),a}(c.Component),S=Object(h.b)((function(t){return{songs:t.getTopReducer}}),(function(t){return{getTopSongs:function(e){return t(g(e))},getArtistInfo:function(e){return t(_(e))}}}))(w),C=function(){return Object(n.jsxs)("div",{className:"navbar",children:[Object(n.jsx)("span",{className:"title",children:"Music Search"}),Object(n.jsx)(o.c,{to:"/main",className:"navlink",activeClassName:"activeNav",children:"Main"}),Object(n.jsx)(o.c,{to:"/search",className:"navlink",activeClassName:"activeNav",children:"Search"})]})},A=function(t){return function(e){return j.a.get(t).then((function(t){var a=t.data;return e({type:m,payload:a})}))}},B=a(5),P=a.n(B),T=function(t){Object(d.a)(a,t);var e=Object(b.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={track:"",page:1},t.searchByName=function(e){var a="https://ws.audioscrobbler.com/2.0/?method=".concat("track.search","&track=").concat(t.state.track,"&page=").concat(e,"&api_key=").concat("20f6e218a31dde21404bc8beb287d24f","&format=json");t.props.getSearchSongs(a)},t.handleSearchChange=function(e){t.setState({track:e.target.value})},t.prevPage=function(){var e=t.state.page-1;t.setState({page:e}),t.searchByName(e)},t.nextPage=function(){var e=t.state.page+1;t.setState({page:e}),t.searchByName(e)},t.showAbout=function(e){var a="https://ws.audioscrobbler.com/2.0/?method=".concat("artist.getInfo","&artist=").concat(e,"&api_key=").concat("20f6e218a31dde21404bc8beb287d24f","&format=json");t.props.getArtistInfo(a)},t}return Object(u.a)(a,[{key:"render",value:function(){var t,e,a,c,r,s=this,o=null===(t=this.props.search)||void 0===t||null===(e=t.results)||void 0===e||null===(a=e.trackmatches)||void 0===a?void 0:a.track,i=Math.ceil(parseInt(null===(c=this.props.search)||void 0===c||null===(r=c.results)||void 0===r?void 0:r["opensearch:totalResults"])/30);return Object(n.jsxs)("div",{className:P.a.wrapper,children:[Object(n.jsx)("h1",{className:P.a.header,children:"Search"}),Object(n.jsx)("input",{className:P.a.input,type:"text",onChange:function(t){return s.handleSearchChange(t)},placeholder:"Search for music..."}),Object(n.jsx)("button",{type:"button",className:P.a.button,onClick:this.searchByName,children:"Search track"}),Object(n.jsxs)("div",{className:P.a.navButtons,children:[Object(n.jsx)("button",{className:1===this.state.page?P.a.disable:P.a.navBtnPrev,type:"button",onClick:this.prevPage,children:"Previos page"}),Object(n.jsx)("button",{className:this.state.page!==i&&o?P.a.navBtnNext:P.a.disable,type:"button",onClick:this.nextPage,children:"Next page"})]}),Object(n.jsx)("div",{className:P.a.trackContainer,children:null===o||void 0===o?void 0:o.map((function(t,e){return Object(n.jsxs)("div",{className:P.a.track,children:[Object(n.jsx)("button",{type:"button",onClick:s.showAbout.bind(s,t.name),children:Object(n.jsx)(k,{position:1===s.state.page?e:e+30*s.state.page,artist:t.artist,name:t.name})},e),Object(n.jsx)("a",{className:P.a.link,href:t.url,target:"_blank",rel:"noreferrer",children:"Track page on Last.FM"})]})}))}),Object(n.jsxs)("div",{className:P.a.navButtons,children:[Object(n.jsx)("button",{className:1===this.state.page?P.a.disable:P.a.navBtnPrev,type:"button",onClick:this.prevPage,children:"Previos page"}),Object(n.jsx)("button",{className:this.state.page!==i&&o?P.a.navBtnNext:P.a.disable,type:"button",onClick:this.nextPage,children:"Next page"})]})]})}}]),a}(c.Component),M=Object(h.b)((function(t){return{search:t.getSearchReducer}}),(function(t){return{getSearchSongs:function(e){return t(A(e))},getArtistInfo:function(e){return t(_(e))}}}))(T),F=a(4),L=a.n(F),R=Object(h.b)((function(t){return{about:t.getArtistReducer}}),null)((function(t){var e,a,c,r,s,o,i;console.log(t);var l,u,d,b,h,p,j,v,m,f,g,_,O,x,k,N,y,w,S=null===(e=t.about)||void 0===e||null===(a=e.artist)||void 0===a?void 0:a.name,C=null===(c=t.about)||void 0===c||null===(r=c.artist)||void 0===r||null===(s=r.bio)||void 0===s?void 0:s.content,A=null===(o=C)||void 0===o?void 0:o.indexOf("<"),B=(null===(i=C)||void 0===i?void 0:i.lastIndexOf(">"))+1;if(A&&B){var P,T,M,F=null===(P=t.about)||void 0===P||null===(T=P.artist)||void 0===T||null===(M=T.bio)||void 0===M?void 0:M.content.slice(A,B);C=C.replace(F,"")}return C?Object(n.jsxs)("div",{className:L.a.wrapper,children:[Object(n.jsx)("button",{className:L.a.backBtn,type:"button",onClick:function(){return t.history.goBack()},children:"< BACK"}),Object(n.jsxs)("h1",{className:L.a.header,children:['All about "',S,'"']}),Object(n.jsxs)("div",{className:L.a.topPanel,children:[Object(n.jsx)("img",{src:null===(l=t.about)||void 0===l||null===(u=l.artist)||void 0===u?void 0:u.image[2]["#text"],alt:"artist"}),Object(n.jsxs)("div",{className:L.a.tags,children:[Object(n.jsx)("p",{children:"Tags:"}),null===(d=t.about)||void 0===d||null===(b=d.artist)||void 0===b||null===(h=b.tags)||void 0===h||null===(p=h.tag)||void 0===p?void 0:p.map((function(t,e){return Object(n.jsx)("p",{className:L.a.tag,children:Object(n.jsxs)("a",{className:L.a.tagLink,href:t.url,children:[t.name,"."]},e)})}))]})]}),Object(n.jsxs)("a",{className:L.a.link,href:null===(j=t.about)||void 0===j||null===(v=j.artist)||void 0===v?void 0:v.url,children:['Learn more about "',null===(m=t.about)||void 0===m||null===(f=m.artist)||void 0===f?void 0:f.name,'" on Last.FM']}),Object(n.jsx)("p",{className:L.a.about,children:C})]}):S?Object(n.jsxs)("div",{className:L.a.wrapper,children:[Object(n.jsx)("button",{className:L.a.backBtn,type:"button",onClick:function(){return t.history.goBack()},children:"< BACK"}),Object(n.jsxs)("h1",{className:L.a.header,children:['All about "',S,'"']}),Object(n.jsx)("div",{className:L.a.topPanel,children:Object(n.jsxs)("div",{className:L.a.tags,children:[Object(n.jsx)("p",{children:"Tags:"}),null===(g=t.about)||void 0===g||null===(_=g.artist)||void 0===_||null===(O=_.tags)||void 0===O||null===(x=O.tag)||void 0===x?void 0:x.map((function(t,e){return Object(n.jsx)("p",{className:L.a.tag,children:Object(n.jsxs)("a",{className:L.a.tagLink,href:t.url,children:[t.name,"."]},e)})}))]})}),Object(n.jsxs)("a",{className:L.a.link,href:null===(k=t.about)||void 0===k||null===(N=k.artist)||void 0===N?void 0:N.url,children:['Learn more about "',null===(y=t.about)||void 0===y||null===(w=y.artist)||void 0===w?void 0:w.name,'" on Last.FM']})]}):Object(n.jsxs)("div",{className:L.a.wrapper,children:[Object(n.jsx)("button",{className:L.a.backBtn,type:"button",onClick:function(){return t.history.goBack()},children:"< BACK"}),Object(n.jsx)("h1",{children:"Artist not found"})]})}));var I=function(){return Object(n.jsx)(o.a,{children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(C,{}),Object(n.jsxs)(i.d,{children:[Object(n.jsx)(i.b,{path:"/main",component:S}),Object(n.jsx)(i.b,{path:"/search",component:M}),Object(n.jsx)(i.b,{path:"/about",component:R}),Object(n.jsx)(i.b,{path:"",exact:!0,render:function(){return Object(n.jsx)(i.a,{to:"/main"})}})]})]})})},E=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,72)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;a(t),n(t),c(t),r(t),s(t)}))},z=a(12),D=a(40),G=a(41),K=Object(z.createStore)(Object(z.combineReducers)({getTopReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v:return e.payload;default:return t}},getSearchReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:return e.payload;default:return t}},getArtistReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f:return e.payload;default:return t}}}),Object(G.composeWithDevTools)(Object(z.applyMiddleware)(D.a)));s.a.render(Object(n.jsx)(h.a,{store:K,children:Object(n.jsx)(I,{})}),document.getElementById("root")),E()}},[[71,1,2]]]);
//# sourceMappingURL=main.4727628c.chunk.js.map